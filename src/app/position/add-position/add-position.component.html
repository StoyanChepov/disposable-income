<div class="position-create">
  <h2>Create</h2>
  <form [formGroup]="form" (ngSubmit)="onSubmit()">
    <label for="title">Title</label>
    <input
      id="title"
      formControlName="title"
      placeholder="Enter title"
      required
    />
    <div class="expense-info">
      <div class="form-group">
        <label for="date">Date</label>
        <input id="date" formControlName="date" type="date" required />
      </div>

      <div class="form-group">
        <label for="category">Category</label>
        <select id="category" formControlName="category" required>
          <option *ngFor="let category of categories" [value]="category._id">
            {{ category.name }}
          </option>
        </select>
        <button type="button" (click)="openCategoryModal()">
          + Add Category
        </button>
      </div>
    </div>
    <div *ngIf="itemPositions.length > 0">
      <table>
        <thead>
          <tr>
            <th>Item</th>
            <th>Quantity</th>
            <th>Price</th>
            <th>Amount</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let item of itemPositions">
            <td>{{ item.item.name }}</td>
            <td>{{ item.quantity }}</td>
            <td>{{ item.price }}</td>
            <td>{{ item.amount }}</td>
          </tr>
        </tbody>
      </table>
    </div>

    <button type="button" (click)="openItemPositionModal()">
      + Add a Line
    </button>

    <div class="form-group">
      <label for="amount">Total</label>
      <input id="amount" formControlName="amount" readonly />
    </div>
    <div class="buttons">
      <button class="button" type="submit" [disabled]="form.invalid">
        Create
      </button>
    </div>
  </form>
</div>
